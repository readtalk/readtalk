<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>READTalk - Log</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif}
        body{background:#f5f5f5;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}
        .container{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:480px;flex-grow:1}
        .header{text-align:center;margin-bottom:30px}
        .header h1{font-size:28px;color:#000;font-weight:600;margin-bottom:10px}
        .header p{font-size:15px;color:#666;line-height:1.5;max-width:400px}
        .frame-wrapper{width:100%;background:#fff;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.1);overflow:hidden;border:1px solid #e8e8e8;margin-bottom:30px;position:relative;min-height:460px}
        .frame-wrapper iframe{width:100%;height:100%;border:none;min-height:460px}
        .loader{position:absolute;top:0;left:0;width:100%;height:100%;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10}
        .spinner{width:40px;height:40px;border:4px solid #f0f0f0;border-top:4px solid #f00;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}
        @keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
        .cta-section{text-align:center;width:100%;padding:25px;background:#fff;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,0.08);margin-top:20px}
        .cta-title{font-size:20px;font-weight:600;color:#000;margin-bottom:12px}
        .cta-description{font-size:14px;color:#666;line-height:1.5;margin-bottom:24px;max-width:400px;margin:0 auto 24px}
        .cta-button{background:#f00;color:#fff;border:none;padding:14px 36px;font-size:16px;font-weight:600;border-radius:8px;cursor:pointer;transition:background 0.3s;display:inline-flex;align-items:center;gap:10px}
        .cta-button:hover{background:#c00}
        .footer{margin-top:40px;text-align:center;color:#999;font-size:13px;width:100%}
        .footer-links{display:flex;justify-content:center;gap:20px;margin-bottom:12px}
        .footer-links a{color:#666;text-decoration:none;font-size:13px}
        .footer-links a:hover{color:#f00;text-decoration:underline}
        @media (max-width:520px){.container{max-width:100%}.frame-wrapper{min-height:420px}.cta-section{padding:20px}.footer-links{flex-direction:column;gap:10px}}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîê Authentication</h1>
            <p>Register or login to access your personal READTalk room.</p>
        </div>
        <div class="frame-wrapper">
            <div class="loader" id="loader">
                <div class="spinner"></div>
                <div>Loading secure form...</div>
            </div>
            <iframe id="secureIframe" sandbox="allow-forms allow-scripts allow-same-origin"></iframe>
        </div>
        <div class="cta-section">
            <h2 class="cta-title">Get Started</h2>
            <p class="cta-description">Create your account to unlock all features.</p>
            <button class="cta-button" onclick="scrollToForm()">üëâ Complete Registration Now</button>
        </div>
    </div>
    <div class="footer">
        <div class="footer-links">
            <a href="privacy-policy.html" onclick="showPrivacy()">Privacy Policy</a>
            <a href="terms-of-service.html" onclick="showTerms()">Terms of Service</a>
            <a href="https://readtalk.vercel.app">‚Üê Back to Home</a>
        </div>
        <div>¬© 2025 SOEPARNO ENTERPRISE Corp.</div>
    </div>
    <script>
        const realUrl = 'https://log.readtalk.workers.dev/password/register';
        const encodedUrl = btoa(realUrl);
        const hiddenContent = `
        <!DOCTYPE html>
        <html>
        <head>
            <base target="_parent">
            <style>body{margin:0;padding:0;background:#fff}iframe{width:100%;height:100%;border:none}</style>
        </head>
        <body>
            <iframe src="${realUrl}" title="READTalk - Log" sandbox="allow-forms allow-scripts allow-same-origin" allow="clipboard-write"></iframe>
            <script>
                window.addEventListener('load',function(){parent.postMessage({type:'IFRAME_LOADED'},'*')});
                window.addEventListener('error',function(){parent.postMessage({type:'IFRAME_ERROR'},'*')});
            <\/script>
        </body>
        </html>`;
        document.getElementById('secureIframe').src = 'data:text/html;base64,' + btoa(hiddenContent);
        
        window.addEventListener('message',function(e){
            if(e.data.type==='IFRAME_LOADED') document.getElementById('loader').style.display='none';
            if(e.data.type==='IFRAME_ERROR') document.getElementById('loader').innerHTML='<div style="text-align:center;padding:20px;color:#f00">‚ö†Ô∏è Connection Error</div>';
        });
        
        function scrollToForm(){document.querySelector('.frame-wrapper').scrollIntoView({behavior:'smooth',block:'center'})}
        function showPrivacy(){alert('Privacy Policy')}
        function showTerms(){alert('Terms of Service')}
    </script>
</body>
</html>
